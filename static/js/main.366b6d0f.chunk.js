(this["webpackJsonpraisely-app"]=this["webpackJsonpraisely-app"]||[]).push([[0],{39:function(e,a,t){e.exports=t(64)},64:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(29),u=t.n(s),o=t(8),l=t.n(o),i=t(11),c=t(38),m=t(10),d=t(32),p=t(33),f=t(34),v=t(18),b=t.n(v),g="active",h="success",E="error",w=new(function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"submit",value:function(e){return b.a.post("https://api.raisely.com/v3/signup",{campaignUuid:"46aa3270-d2ee-11ea-a9f0-e9a68ccff42a",data:e}).then((function(e){return{message:e.data.message,status:e.data.data.status.toLowerCase()===g?h:E}})).catch((function(e){var a,t,r;return{message:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.errors[0])||void 0===r?void 0:r.message,status:E}}))}},{key:"emailChecker",value:function(){var e=Object(i.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("https://api.raisely.com/v3/check-user",{campaignUuid:"46aa3270-d2ee-11ea-a9f0-e9a68ccff42a",data:{email:a}});case 3:return t=e.sent,e.abrupt("return",t.data.data.status);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{message:"Error signing up... TRY AGAIN LATER...",status:E});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}]),e}()),y=t(5),k=t(2),x=y.a.div(Object(k.c)(k.b,k.e,k.f)),C=y.a.button({cursor:"pointer",width:"100%",padding:"10px",borderStyle:"none"},Object(k.c)(k.a,k.b,k.f)),j=y.a.div({display:"flex",flexDirection:"column"},Object(k.c)(k.b,k.d,k.f)),F=t(15);function O(){var e=Object(F.a)(["\n  padding: 5px;\n"]);return O=function(){return e},e}var S=y.a.input(O());function q(){var e=Object(F.a)(["\n  font-size: 18px;\n"]);return q=function(){return e},e}var I=y.a.p(q()),L=function(e){var a=e.children;return n.a.createElement(I,null,a)},A={success:{backgroundColor:"#ceead5",color:"#154d21"},error:{backgroundColor:"#f7d1d5",color:"#671a21"}},B=function(e){var a,t;return n.a.createElement(x,{p:2,bg:null===(a=A[e.status])||void 0===a?void 0:a.backgroundColor,color:null===(t=A[e.status])||void 0===t?void 0:t.color},e.message)},T=function(){var e=n.a.useState(null),a=Object(c.a)(e,2),t=a[0],r=a[1],s=function(){var e=Object(i.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.emailChecker(a);case 2:if(t=e.sent,d.validate(a)){e.next=7;break}return e.abrupt("return","Invalid Email");case 7:if(!t){e.next=9;break}return e.abrupt("return","Email already exists");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(x,{width:"300px",m:"auto"},n.a.createElement("h1",null,"Signup Form"),t&&n.a.createElement(B,{message:t.message,status:t.status}),n.a.createElement(m.b,{initialValues:{firstname:"",lastname:"",email:"",password:""},onSubmit:function(){var e=Object(i.a)(l.a.mark((function e(a,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.emailChecker(a.email);case 2:"ok"===e.sent.toLowerCase()?w.submit(a).then((function(e){r(e)})):r({message:"This email address has already been registered. Have you tried logging in?",status:"error"}),t.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement(j,null,n.a.createElement(L,null,"Firstname:"),n.a.createElement(m.a,{as:S,type:"text",value:e.values.firstname,name:"firstname",required:!0}),e.errors.firstname&&n.a.createElement(x,{mt:2},n.a.createElement(B,{message:e.errors.firstname,status:"error"}))),n.a.createElement(j,null,n.a.createElement(L,null,"Lastname:"),n.a.createElement(m.a,{as:S,type:"text",onChange:e.handleChange,value:e.values.lastname,name:"lastname",required:!0}),e.errors.lastname&&n.a.createElement(x,{mt:2},n.a.createElement(B,{message:e.errors.lastname,status:"error"}))),n.a.createElement(j,null,n.a.createElement(L,null,"Email:"),n.a.createElement(m.a,{as:S,type:"email",onBlur:function(){return e.validateField("email")},validate:function(){if(e.values.email)return s(e.values.email)},value:e.values.email,name:"email",required:!0}),e.errors.email&&n.a.createElement(x,{mt:2},n.a.createElement(B,{message:e.errors.email,status:"error"}))),n.a.createElement(j,null,n.a.createElement(L,null,"Password:"),n.a.createElement(m.a,{as:S,type:"password",onChange:e.handleChange,value:e.values.password,name:"password",required:!0}),e.errors.password&&n.a.createElement(x,{mt:2},n.a.createElement(B,{message:e.errors.password,status:"error"}))),n.a.createElement(j,{mt:"25px"},n.a.createElement(C,{bg:"#2196F3",borderColor:"#2196F3",color:"#FFFFFF",type:"submit",disabled:e.isSubmitting||!e.isValid||!e.dirty},"SIGNUP")))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.366b6d0f.chunk.js.map